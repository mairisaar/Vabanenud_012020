<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="img/favicon-32.png" type="image/x-icon">
    <!--<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">-->
    <link type="text/css" rel="stylesheet" href="normalize.css" />
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Rubik:400,500,700,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Vabanenud õppekohad Tartu Ülikoolis</title>
</head>
<body>
    <header>
        <div class="beauty">
            <div class="img"></div>
            <div class="light"></div>
            <div class="main"></div>
        </div>
        <img class="logo"src="img/horisontaal-v.svg" alt="Tartu Ülikooli logo">
    </header>
    <section>
        
        <!---üldinfo-->
        <div class="info">
            <h1>Vabanenud õppekohad Tartu Ülikoolis</h1>
            <p>Vastavalt Tartu Ülikooli <a href="http://www.ut.ee/oke" target="_blank">õppekorralduseeskirjale</a> täidetakse vabad õppekohad avaliku konkursi korras semestri algusest arvates nelja nädala jooksul. Esimese õppeaasta sügissemestril vabu õppekohti ei täideta.</p>
            <p>Lisainfo <a href="https://www.ut.ee/et/oppimine/uliopilasele/oppekohad/vabad_kohad" target="_blank">vabale õppekohale kandideerimise kohta</a>.</p>
            <!--<p id="showDate1"></p>-->
        </div>

        <!---õppeastmete collapsible pealkirjad-->
        <div class="levels">
            <button type="button" class="collapsible">Bakalaureuse-, rakenduskõrghariduse- ja integreeritud õppes</button>
            <div class="content">
                <p id="showDate2"></p>
                <p id="showDataB"></p>
            </div>
            <button type="button" class="collapsible">Magistriõppes</button>
            <div class="content">
                <p id="showDate3"></p>
                <p id="showDataM"></p>
            </div>
            <button type="button" class="collapsible">Doktoriõppes</button>
            <div class="content">
                <p id="showDate4"></p>
                <p id="showDataD"></p>
            </div>
        </div>
    </section>
    <footer>
        <p>Õppeosakond ois.tugi@ut.ee</p>
        <div class="shape"></div>
    </footer>
    
    <script>
        // Andmed seisuga kuupäeva kuvamine
        function ShowUpdateDate(id){
        var myDate = {kuupäev: "26.01.2020", kell: "01:23"};
        document.getElementById(id).innerHTML = "Andmed seisuga " + myDate.kuupäev + " kell " + myDate.kell + ".";
        }

        //ShowUpdateDate("showDate1");
        ShowUpdateDate("showDate2");
        ShowUpdateDate("showDate3");
        ShowUpdateDate("showDate4");

        //tabeli kuvamine
        //json
        function CreateTableFromJSON(id) {
            var myData = [
            
            {
                "Valdkond": "HV",
                "Tase": "514",
                "Kood": "120187",
                "Õppekava": "Infokorraldus",
                "1. aasta PÕ": "",
                "1. aasta SÕ": "",
                "2. aasta PÕ": "",
                "2. aasta SÕ": "2",
                "3. aasta PÕ": "5",
                "3. aasta SÕ": "6",
                "4. aasta PÕ": "",
                "4. aasta SÕ": "",
                "5. aasta PÕ": "",
                "5. aasta SÕ": "",
                "6. aasta PÕ": "",
                "6. aasta SÕ": ""
            },
            {
                "Valdkond": "SV",
                "Tase": "511",
                "Kood": "3132",
                "Õppekava": "Koolieelse lasteasutuse õpetaja mitmekeelses õppekeskkonnas	",
                "1. aasta PÕ": "",
                "1. aasta SÕ": "1",
                "2. aasta PÕ": "",
                "2. aasta SÕ": "",
                "3. aasta PÕ": "6",
                "3. aasta SÕ": "1",
                "4. aasta PÕ": "",
                "4. aasta SÕ": "",
                "5. aasta PÕ": "",
                "5. aasta SÕ": "",
                "6. aasta PÕ": "",
                "6. aasta SÕ": ""
            },
            {
                "Valdkond": "MV",
                "Tase": "503",
                "Kood": "80418",
                "Õppekava": "Arstiteadus",
                "1. aasta PÕ": "3",
                "1. aasta SÕ": "",
                "2. aasta PÕ": "17",
                "2. aasta SÕ": "",
                "3. aasta PÕ": "32",
                "3. aasta SÕ": "",
                "4. aasta PÕ": "31",
                "4. aasta SÕ": "",
                "5. aasta PÕ": "44",
                "5. aasta SÕ": "",
                "6. aasta PÕ": "38",
                "6. aasta SÕ": ""
            },
            {
                "Valdkond": "LT",
                "Tase": "511",
                "Kood": "144301",
                "Õppekava": "Füüsika, keemia ja materjaliteadus	",
                "1. aasta PÕ": "7",
                "1. aasta SÕ": "",
                "2. aasta PÕ": "24",
                "2. aasta SÕ": "",
                "3. aasta PÕ": "47",
                "3. aasta SÕ": "",
                "4. aasta PÕ": "",
                "4. aasta SÕ": "",
                "5. aasta PÕ": "",
                "5. aasta SÕ": "",
                "6. aasta PÕ": "",
                "6. aasta SÕ": ""
            }
        ]
            //tabeli päise jaoks andmete leidmine
            var col = [];
            for (var i = 0; i < myData.length; i++) {
                for (var key in myData[i]) {
                    if (col.indexOf(key) === -1) {
                        col.push(key);
                    }
                }
            }

            // dünaamilise tabeli loomine
            var table = document.createElement("table");

            // tabeli päise loomine leitud andmete abil

            var tr = table.insertRow(-1);                   // tabeli rida

            for (var i = 0; i < col.length; i++) {
                var th = document.createElement("th");      // tabeli päis
                th.innerHTML = col[i];
                tr.appendChild(th);
            }

            // jsoni andmete lisamine tabelisse ridadena
            for (var i = 0; i < myData.length; i++) {

                tr = table.insertRow(-1);

                for (var j = 0; j < col.length; j++) {
                    var tabCell = tr.insertCell(-1);
                    tabCell.innerHTML = myData[i][col[j]];
                }
            }

            // loodud jsoni andmetega tabeli lisamine konteinerisse
            var divContainer = document.getElementById(id);
            divContainer.innerHTML = "";
            divContainer.appendChild(table);

        }
        CreateTableFromJSON("showDataB");
        CreateTableFromJSON("showDataM");
        CreateTableFromJSON("showDataD");

        //collapsible headings
        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight){
            content.style.maxHeight = null;
            } else {
            content.style.maxHeight = content.scrollHeight + "px";
            } 
        });
        }
    </script>
</body>
</html>